<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vehicle Movement Analysis</title>
    <!-- Include Plotly library for creating graphs -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Vehicle Movement Analysis</h1>
    <!-- Container for the line graph -->
    <div id="line-graph" style="width: 100%; height: 400px;"></div>
    <!-- Container for the pie chart -->
    <div id="pie-chart" style="width: 100%; height: 400px;"></div>

    <h2>Statistics</h2>
    <!-- Display the total vehicle count (currently parked vehicles) -->
    <p>Total Vehicle Count: {{ total_vehicle_count }}</p>
    <!-- Display the peak time (time when the occupied count was maximum) -->
    <p>Peak Time: {{ peak_time }}</p>
    <!-- Display the peak occupied count -->
    <p>Peak Occupied: {{ peak_occupied }}</p>
    <!-- Display the count of registered vehicles -->
    <p>Registered Vehicle Count: {{ registered_vehicle_count }}</p>

    <script>
        // Convert the JSON-encoded graph data to JavaScript objects
        var lineGraph = {{ graphJSON | safe }};
        var pieChart = {{ pie_chart_JSON | safe }};

        // Render the line graph and pie chart using Plotly
        Plotly.newPlot('line-graph', lineGraph.data, lineGraph.layout);
        Plotly.newPlot('pie-chart', pieChart.data, pieChart.layout);
    </script>
</body>
</html>
